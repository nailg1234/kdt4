<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <!-- 비동기 프로그래밍 기초 -->
    <!-- 동기 vs 비동기 -->
    <script>
      // 동기
      //    코드가 순차적으로 실행
      console.log("첫번째");
      console.log("두번째");
      console.log("세번째");

      // 비동기
      //    코드가 동시에 실행됨
      console.log("시작");
      setTimeout(() => {
        console.log("2초 후 실행");
      }, 2000);
      console.log("끝");

      // 비동기를 왜 사용하나
      //    동기 방식 - 브라우저가 멈춤!
      //   function getData() {
      //     // 5초가 걸리는 작업
      //     for (let i = 0; i < 10000000; i++) {}
      //     return "데이터";
      //   }

      //   // 블로킹
      //   const data = getData(); // 3초 이상 대기
      //   console.log("완료1"); // 3초 이상 이후에 실행됨

      // 논 블로킹
      //    비동기 방식 - 브라우저가 멈추지 않음!
      function getData1(callback) {
        setTimeout(() => {
          callback("데이터");
        }, 5000);
      }

      getData1((data) => {
        console.log(data);
      });

      console.log("완료2");

      //setTimeout(함수, 지연시간);

      //기본
      setTimeout(() => {
        console.log("3초가 지났습니다.");
      }, 3000);

      // 매개변수 전달
      function greet(name, age) {
        console.log(`${name}님, ${age}살이시군요.`);
      }

      setTimeout(greet, 5000, "홍길동", 25);

      let timerId = setTimeout(() => {
        console.log("실행");
      }, 3000);

      clearTimeout(timerId);

      // setInterval()
      // setInterval(함수, 간격)
      let count = 5;
      let intervalId = setInterval(() => {
        console.log("setInterval", count);
        count--;

        // 빠져나올 조건이 있어야 한다.
        if (count < 0) {
          clearInterval(intervalId);
          console.log("중지");
        }
      }, 1000);
    </script>
  </body>
</html>
