import pandas as pd

# 샘플 데이터 생성
data = {
    "이름": ["홍길동", "이순신", "김유신", "강감찬", "장보고", "이방원"],
    "나이": [23, 35, 31, 40, 28, 34],
    "직업": ["학생", "군인", "장군", "장군", "상인", "왕자"]
}

df = pd.DataFrame(data)

print('=== 인덱싱 ===')

# 단일 열 선택: Series 형태로 반환
# Series: 1차원 배열 (하나의 열

print(df["이름"])  # "이름" 열만 선택
# 0    홍길동
# 1    이순신
# 2    김유신
# 3    강감찬
# 4    장보고
# 5    이방원
# Name: 이름, dtype: object
print()

# 여러 열 선택: DataFrame 형태로 반환 (2차원 테이블 유지)
# 대괄호를 이중으로 사용 [[]] 해야 함

print(df[["이름", "나이", "직업"]])
#     이름  나이  직업
# 0  홍길동  23  학생
# 1  이순신  35  군인
# 2  김유신  31  장군
# 3  강감찬  40  장군
# 4  장보고  28  상인
# 5  이방원  34  왕자
print()

print('=== 슬라이싱 ===')

# 리스트 슬라이싱과 유사: [시작:끝] (끝 인덱스는 포함되지 않음)
print(df[1:3])         # 1번 행부터 2번 행까지 (0부터 시작하므로 2번째, 3번째 행)
#     이름  나이  직업
# 1  이순신  35  군인
# 2  김유신  31  장군
print()

print(df[-2:])         # 뒤에서 2개 행 선택 (마지막 2개 행)
#     이름  나이  직업
# 4  장보고  28  상인
# 5  이방원  34  왕자
print()

# 주의: DataFrame의 기본 슬라이싱은 행(Row) 기준으로 동작
# 열(Column)을 슬라이싱하려면 명시적으로 지정해야 함
print(df[-2:]["이름"])  # 마지막 2개 행에서 "이름" 열만 선택
# 4    장보고
# 5    이방원
# Name: 이름, dtype: object
print()


print('=== iloc ===')
print(df)
#     이름  나이  직업
# 0  홍길동  23  학생
# 1  이순신  35  군인
# 2  김유신  31  장군
# 3  강감찬  40  장군
# 4  장보고  28  상인
# 5  이방원  34  왕자

# 단일 행 선택
print(df.iloc[0])      # 0번 행 전체를 Series로 반환
# 이름    홍길동
# 나이     23
# 직업     학생
# Name: 0, dtype: object

# 모든 행의 특정 열 선택
print(df.iloc[:, 1])   # 모든 행(:)의 1번 열(나이) 선택 / :는 "전체"를 의미
# 0    23
# 1    35
# 2    31
# 3    40
# 4    28
# 5    34
# Name: 나이, dtype: int64
print()

# 특정 행과 특정 열 선택
print(df.iloc[[0, 2, 4], [0, 2]])  # 0, 2, 4번 행과 0, 2번 열 선택
# 대괄호 [[]]로 여러 인덱스 지정
#     이름  직업
# 0  홍길동  학생
# 2  김유신  장군
# 4  장보고  상인
print()

# iloc 추가 예시:
# df.iloc[0:3, 0:2]     # 0~2번 행, 0~1번 열
# df.iloc[:, -1]        # 모든 행의 마지막 열
# df.iloc[-3:, :]       # 마지막 3개 행의 모든 열


print('=== loc ===')

# 단일 행 선택 (인덱스 번호로)
# 인덱스 0인 행 전체 선택
# iloc[0]과 결과는 같지만 의미가 다름
# iloc는 "위치", loc는 "라벨"
print(df.loc[0])
# 이름    홍길동
# 나이     23
# 직업     학생
# Name: 0, dtype: object
print()

# 모든 행의 특정 열 선택 (열 이름 사용)
# 모든 행의 "나이" 열 선택
# iloc와 달리 열 이름(문자열) 사용 가능
print(df.loc[:, "나이"])
# 0    23
# 1    35
# 2    31
# 3    40
# 4    28
# 5    34
# Name: 나이, dtype: int64
print()

# 여러 열 선택
print(df.loc[:, ["이름", "나이"]])  # 모든 행의 "이름"과 "나이" 열
#     이름  나이
# 0  홍길동  23
# 1  이순신  35
# 2  김유신  31
# 3  강감찬  40
# 4  장보고  28
# 5  이방원  34
print()

# 특정 행 범위와 특정 열 선택
# 주의: loc는 끝 인덱스 포함! (iloc와 차이점)
# iloc[1:3]은 1, 2번 행만 포함
# loc[1:3]은 1, 2, 3번 행 모두 포함
print(df.loc[1:3, ["이름", "나이"]])  # 1~3번 행의 "이름", "나이" 열
#     이름  나이
# 1  이순신  35
# 2  김유신  31
# 3  강감찬  40
print()


# loc 추가 예시:
# df.loc[df['나이'] > 30, '이름']     # 나이가 30 초과인 사람의 이름
# df.loc[0:2, '이름':'직업']          # 0~2번 행, 이름부터 직업까지 모든 열

'''
═══════════════════════════════════════════════════════════════
iloc vs loc 차이점 정리
═══════════════════════════════════════════════════════════════

┌─────────────┬──────────────────┬──────────────────┐
│             │ iloc             │ loc              │
├─────────────┼──────────────────┼──────────────────┤
│ 인덱싱 방식  │ 정수 위치 (0, 1..)│ 라벨/이름        │
│ 끝 범위     │ 포함 안 됨        │ 포함됨           │
│ 열 선택     │ 정수만 가능       │ 이름 사용 가능    │
│ 조건 필터   │ 불가능           │ 가능             │
└─────────────┴──────────────────┴──────────────────┘

예시:
df.iloc[1:3, 0:2]  → 1, 2번 행 / 0, 1번 열
df.loc[1:3, '이름':'나이']  → 1, 2, 3번 행 / 이름부터 나이까지 모든 열

권장 사용법:
- iloc: 위치 기반 슬라이싱, 순차적 접근
- loc: 조건부 필터링, 명시적 열 이름 사용
'''
