# Day 3-1교시: 배열 기초

## 학습 목표
- 배열의 개념과 필요성 이해하기
- 1차원 배열 선언, 초기화, 접근 방법 익히기
- 배열과 반복문을 결합하여 활용하기
- 배열 사용 시 주의사항과 에러 방지 방법 학습하기

## 1. 배열이란?

### 1.1 배열의 필요성

여러 개의 관련된 데이터를 다룰 때, 개별 변수를 사용하면 비효율적입니다.

```cpp
// 배열 없이 5명의 점수 저장 - 비효율적!
int score1 = 85;
int score2 = 90;
int score3 = 78;
int score4 = 92;
int score5 = 88;

// 배열로 5명의 점수 저장 - 효율적!
int scores[5] = {85, 90, 78, 92, 88};
```

**배열을 사용해야 하는 상황:**
- 같은 종류의 데이터를 여러 개 저장할 때
- 반복문으로 데이터를 처리할 때
- 인덱스로 특정 위치의 데이터에 접근할 때

### 1.2 배열의 특징

```
배열의 핵심 특징:

1. 동일한 타입
   ┌─────────────────────────────────────┐
   │ int 배열: int만 저장 가능            │
   │ double 배열: double만 저장 가능      │
   │ char 배열: char만 저장 가능          │
   └─────────────────────────────────────┘

2. 연속된 메모리
   ┌───┬───┬───┬───┬───┐
   │ 0 │ 1 │ 2 │ 3 │ 4 │ ← 메모리에 연속 배치
   └───┴───┴───┴───┴───┘

3. 인덱스는 0부터 시작
   배열[0] = 첫 번째 요소
   배열[1] = 두 번째 요소
   배열[n-1] = n번째(마지막) 요소

4. 크기는 컴파일 시 결정
   int arr[5];     // OK: 상수 사용
   int arr[SIZE];  // OK: const 상수 사용
   int arr[n];     // 주의: 일부 컴파일러에서만 지원 (VLA)
```

### 1.3 배열 메모리 구조

```
int arr[5] = {10, 20, 30, 40, 50};

메모리 레이아웃 (각 int는 4바이트):
┌──────────┬──────────┬──────────┬──────────┬──────────┐
│  arr[0]  │  arr[1]  │  arr[2]  │  arr[3]  │  arr[4]  │
│    10    │    20    │    30    │    40    │    50    │
├──────────┼──────────┼──────────┼──────────┼──────────┤
│ 0x1000   │ 0x1004   │ 0x1008   │ 0x100C   │ 0x1010   │
└──────────┴──────────┴──────────┴──────────┴──────────┘
     ↑
    arr (배열의 시작 주소 = 첫 번째 요소의 주소)

주소 계산:
- arr[i]의 주소 = arr의 시작 주소 + (i × sizeof(int))
- arr[0] = 0x1000 + (0 × 4) = 0x1000
- arr[2] = 0x1000 + (2 × 4) = 0x1008
- arr[4] = 0x1000 + (4 × 4) = 0x1010
```

### 1.4 배열 vs 개별 변수 비교

```cpp
#include <iostream>
using namespace std;

int main() {
    // 개별 변수 방식 - 비효율적
    int score1 = 85, score2 = 90, score3 = 78;
    int sum1 = score1 + score2 + score3;  // 일일이 더해야 함

    // 배열 방식 - 효율적
    int scores[3] = {85, 90, 78};
    int sum2 = 0;
    for (int i = 0; i < 3; i++) {
        sum2 += scores[i];  // 반복문으로 처리
    }

    cout << "개별 변수 합계: " << sum1 << endl;
    cout << "배열 합계: " << sum2 << endl;

    return 0;
}
```

## 2. 배열 선언과 초기화

### 2.1 배열 선언 문법

```
배열 선언 형식:
┌─────────────────────────────────────────────┐
│  데이터타입  배열이름[크기];                  │
│                                             │
│  예시:                                       │
│  int arr[5];      // int 5개 저장 가능      │
│  double data[10]; // double 10개 저장 가능  │
│  char name[20];   // char 20개 저장 가능    │
└─────────────────────────────────────────────┘
```

### 2.2 다양한 선언 및 초기화 방법

```cpp
#include <iostream>
using namespace std;

int main() {
    // 방법 1: 크기만 지정 (쓰레기 값 포함 - 위험!)
    int arr1[5];
    cout << "초기화 안 함: " << arr1[0] << endl;  // 예측 불가능한 값

    // 방법 2: 선언과 동시에 완전 초기화
    int arr2[5] = {10, 20, 30, 40, 50};

    // 방법 3: 부분 초기화 (나머지는 자동으로 0)
    int arr3[5] = {10, 20};  // {10, 20, 0, 0, 0}

    // 방법 4: 크기 자동 결정 (초기화 값 개수로 결정)
    int arr4[] = {1, 2, 3, 4, 5};  // 크기: 5

    // 방법 5: 모든 요소를 0으로 초기화
    int arr5[5] = {};  // {0, 0, 0, 0, 0}
    int arr6[5] = {0}; // {0, 0, 0, 0, 0} - 동일한 결과

    // 방법 6: 상수를 사용한 크기 지정 (권장)
    const int SIZE = 5;
    int arr7[SIZE] = {1, 2, 3, 4, 5};

    // 출력
    cout << "\narr2: ";
    for (int i = 0; i < 5; i++) cout << arr2[i] << " ";

    cout << "\narr3 (부분 초기화): ";
    for (int i = 0; i < 5; i++) cout << arr3[i] << " ";

    cout << "\narr5 (0으로 초기화): ";
    for (int i = 0; i < 5; i++) cout << arr5[i] << " ";

    cout << endl;
    return 0;
}
```

### 2.3 배열 초기화 방법 비교표

| 방법 | 선언 예시 | 결과 | 특징 | 권장도 |
|------|----------|------|------|--------|
| 크기만 지정 | `int arr[5];` | 쓰레기 값 | 초기화 안 됨, 위험 | ⚠️ 비권장 |
| 완전 초기화 | `int arr[5] = {1,2,3,4,5};` | {1,2,3,4,5} | 모든 값 명시 | ✅ 권장 |
| 부분 초기화 | `int arr[5] = {1,2};` | {1,2,0,0,0} | 나머지는 0 | ✅ 권장 |
| 크기 자동 | `int arr[] = {1,2,3};` | {1,2,3}, 크기=3 | 컴파일러가 크기 결정 | ✅ 권장 |
| 0으로 초기화 | `int arr[5] = {};` | {0,0,0,0,0} | 모든 요소 0 | ✅ 권장 |
| const 크기 | `const int N=5; int arr[N];` | - | 안전한 크기 지정 | ✅ 강력 권장 |

### 2.4 배열 요소 접근

```cpp
#include <iostream>
using namespace std;

int main() {
    int numbers[5] = {10, 20, 30, 40, 50};

    // 읽기 (Read)
    cout << "=== 요소 읽기 ===" << endl;
    cout << "첫 번째 요소 numbers[0]: " << numbers[0] << endl;  // 10
    cout << "세 번째 요소 numbers[2]: " << numbers[2] << endl;  // 30
    cout << "마지막 요소 numbers[4]: " << numbers[4] << endl;  // 50

    // 쓰기 (Write)
    cout << "\n=== 요소 수정 ===" << endl;
    numbers[0] = 100;   // 첫 번째 요소 수정
    numbers[2] = 300;   // 세 번째 요소 수정
    numbers[4] = 500;   // 마지막 요소 수정

    cout << "수정 후 numbers[0]: " << numbers[0] << endl;  // 100
    cout << "수정 후 numbers[2]: " << numbers[2] << endl;  // 300
    cout << "수정 후 numbers[4]: " << numbers[4] << endl;  // 500

    // 인덱스를 변수로 사용
    cout << "\n=== 변수 인덱스 ===" << endl;
    int index = 3;
    cout << "numbers[" << index << "]: " << numbers[index] << endl;

    return 0;
}
```

## 3. 배열과 반복문

### 3.1 배열 전체 출력

```cpp
#include <iostream>
using namespace std;

int main() {
    int scores[5] = {85, 90, 78, 92, 88};

    // 배열 크기 계산 (중요!)
    int size = sizeof(scores) / sizeof(scores[0]);

    cout << "=== 점수 목록 ===" << endl;
    cout << "배열 크기: " << size << endl;
    cout << "sizeof(scores): " << sizeof(scores) << " 바이트" << endl;
    cout << "sizeof(scores[0]): " << sizeof(scores[0]) << " 바이트" << endl;

    // 방법 1: 일반 for 문
    cout << "\n[방법 1] 일반 for 문:" << endl;
    for (int i = 0; i < size; i++) {
        cout << "점수 " << (i + 1) << ": " << scores[i] << endl;
    }

    // 방법 2: 범위 기반 for 문 (C++11)
    cout << "\n[방법 2] 범위 기반 for 문:" << endl;
    int count = 1;
    for (int score : scores) {
        cout << "점수 " << count++ << ": " << score << endl;
    }

    return 0;
}
```

### 3.2 배열 순회 시각화

```
배열: [85, 90, 78, 92, 88]
       ↑
      i=0

for문 동작 과정:
┌──────────────────────────────────────────┐
│ i=0: scores[0]=85 출력                   │
│      [85, 90, 78, 92, 88]                │
│       ↑                                  │
├──────────────────────────────────────────┤
│ i=1: scores[1]=90 출력                   │
│      [85, 90, 78, 92, 88]                │
│           ↑                              │
├──────────────────────────────────────────┤
│ i=2: scores[2]=78 출력                   │
│      [85, 90, 78, 92, 88]                │
│               ↑                          │
├──────────────────────────────────────────┤
│ i=3: scores[3]=92 출력                   │
│      [85, 90, 78, 92, 88]                │
│                   ↑                      │
├──────────────────────────────────────────┤
│ i=4: scores[4]=88 출력                   │
│      [85, 90, 78, 92, 88]                │
│                       ↑                  │
├──────────────────────────────────────────┤
│ i=5: i < 5 조건 거짓 → 반복 종료         │
└──────────────────────────────────────────┘
```

### 3.3 배열 통계 계산

```cpp
#include <iostream>
#include <iomanip>
using namespace std;

int main() {
    int scores[] = {85, 90, 78, 92, 88, 95, 72, 88};
    int size = sizeof(scores) / sizeof(scores[0]);

    // 1. 합계 계산
    int sum = 0;
    for (int i = 0; i < size; i++) {
        sum += scores[i];
    }

    // 2. 평균 계산
    double average = static_cast<double>(sum) / size;

    // 3. 최댓값, 최솟값 찾기
    int maxScore = scores[0];
    int minScore = scores[0];
    int maxIndex = 0, minIndex = 0;

    for (int i = 1; i < size; i++) {
        if (scores[i] > maxScore) {
            maxScore = scores[i];
            maxIndex = i;
        }
        if (scores[i] < minScore) {
            minScore = scores[i];
            minIndex = i;
        }
    }

    // 4. 결과 출력
    cout << "=== 성적 통계 ===" << endl;
    cout << "학생 수: " << size << "명" << endl;
    cout << "총점: " << sum << "점" << endl;
    cout << fixed << setprecision(2);
    cout << "평균: " << average << "점" << endl;
    cout << "최고점: " << maxScore << "점 (인덱스 " << maxIndex << ")" << endl;
    cout << "최저점: " << minScore << "점 (인덱스 " << minIndex << ")" << endl;

    // 5. 평균 이상 학생 수
    int aboveAvg = 0;
    for (int i = 0; i < size; i++) {
        if (scores[i] >= average) {
            aboveAvg++;
        }
    }
    cout << "평균 이상: " << aboveAvg << "명" << endl;

    return 0;
}
```

### 3.4 합계 계산 과정 시각화

```
배열: [85, 90, 78, 92, 88]

합계 계산 과정:
┌────────────────────────────────────────────┐
│ Step 0: sum = 0 (초기값)                   │
├────────────────────────────────────────────┤
│ Step 1: sum = 0 + 85 = 85   (i=0)          │
│         [85, 90, 78, 92, 88]               │
│          ↑                                 │
├────────────────────────────────────────────┤
│ Step 2: sum = 85 + 90 = 175 (i=1)          │
│         [85, 90, 78, 92, 88]               │
│              ↑                             │
├────────────────────────────────────────────┤
│ Step 3: sum = 175 + 78 = 253 (i=2)         │
│         [85, 90, 78, 92, 88]               │
│                  ↑                         │
├────────────────────────────────────────────┤
│ Step 4: sum = 253 + 92 = 345 (i=3)         │
│         [85, 90, 78, 92, 88]               │
│                      ↑                     │
├────────────────────────────────────────────┤
│ Step 5: sum = 345 + 88 = 433 (i=4)         │
│         [85, 90, 78, 92, 88]               │
│                          ↑                 │
└────────────────────────────────────────────┘

최종 결과: sum = 433, average = 433/5 = 86.6
```

## 4. 배열 입력과 출력

### 4.1 사용자 입력으로 배열 채우기

```cpp
#include <iostream>
using namespace std;

int main() {
    const int SIZE = 5;
    int numbers[SIZE];

    // 배열 입력
    cout << SIZE << "개의 정수를 입력하세요:" << endl;
    for (int i = 0; i < SIZE; i++) {
        cout << (i + 1) << "번째 숫자: ";
        cin >> numbers[i];
    }

    // 구분선
    cout << "\n" << string(30, '-') << endl;

    // 배열 출력 - 다양한 형식
    cout << "\n[한 줄 출력]" << endl;
    for (int i = 0; i < SIZE; i++) {
        cout << numbers[i] << " ";
    }
    cout << endl;

    cout << "\n[인덱스와 함께 출력]" << endl;
    for (int i = 0; i < SIZE; i++) {
        cout << "numbers[" << i << "] = " << numbers[i] << endl;
    }

    cout << "\n[역순 출력]" << endl;
    for (int i = SIZE - 1; i >= 0; i--) {
        cout << numbers[i] << " ";
    }
    cout << endl;

    return 0;
}
```

### 4.2 배열 검색하기

```cpp
#include <iostream>
using namespace std;

int main() {
    int numbers[] = {45, 23, 67, 89, 12, 56, 78, 34};
    int size = sizeof(numbers) / sizeof(numbers[0]);

    int target;
    cout << "찾을 숫자를 입력하세요: ";
    cin >> target;

    // 선형 검색
    int foundIndex = -1;  // 못 찾으면 -1
    for (int i = 0; i < size; i++) {
        if (numbers[i] == target) {
            foundIndex = i;
            break;  // 찾으면 반복 종료
        }
    }

    // 결과 출력
    if (foundIndex != -1) {
        cout << target << "을(를) 인덱스 " << foundIndex << "에서 찾았습니다." << endl;
    } else {
        cout << target << "을(를) 찾을 수 없습니다." << endl;
    }

    return 0;
}
```

## 5. 배열 사용 시 주의사항

### 5.1 인덱스 범위 초과 (가장 흔한 에러!)

```cpp
#include <iostream>
using namespace std;

int main() {
    int arr[5] = {10, 20, 30, 40, 50};

    // ⚠️ 위험! 인덱스 범위 초과
    // C++은 범위 검사를 하지 않음!

    // arr[5] = 100;   // 에러! 인덱스는 0~4까지만 유효
    // arr[-1] = 200;  // 에러! 음수 인덱스도 안됨
    // arr[100] = 300; // 에러! 메모리 침범

    cout << "올바른 접근:" << endl;
    for (int i = 0; i < 5; i++) {  // i < 5 (5 포함 X)
        cout << "arr[" << i << "] = " << arr[i] << endl;
    }

    return 0;
}
```

### 5.2 배열 범위 에러 시각화

```
int arr[5] = {10, 20, 30, 40, 50};

메모리 상황:
     ↓ 잘못된 접근 (arr[-1])
┌───┬───┬───┬───┬───┬───┬───┐
│ ? │10 │20 │30 │40 │50 │ ? │
└───┴───┴───┴───┴───┴───┴───┘
     [0] [1] [2] [3] [4]  ↑
                         잘못된 접근 (arr[5])

유효한 인덱스 범위: 0 ~ 4 (크기-1)
┌─────────────────────────────┐
│  arr[0] ✓  arr[1] ✓         │
│  arr[2] ✓  arr[3] ✓         │
│  arr[4] ✓                   │
│  arr[5] ✗  (범위 초과!)     │
│  arr[-1] ✗ (음수 인덱스!)   │
└─────────────────────────────┘
```

### 5.3 주요 에러와 해결책

| 에러 유형 | 예시 | 문제점 | 해결책 |
|----------|------|--------|--------|
| 범위 초과 | `arr[5]` (크기 5) | 메모리 침범 | `i < size` 조건 사용 |
| 초기화 안함 | `int arr[5];` | 쓰레기 값 | `int arr[5] = {};` |
| 크기 오계산 | 직접 5 입력 | 유지보수 어려움 | `sizeof` 사용 |
| 음수 인덱스 | `arr[-1]` | 메모리 침범 | 인덱스 검증 |

### 5.4 안전한 배열 사용 패턴

```cpp
#include <iostream>
using namespace std;

int main() {
    // 1. const로 크기 정의
    const int SIZE = 5;

    // 2. 초기화와 함께 선언
    int arr[SIZE] = {0};  // 모두 0으로 초기화

    // 3. sizeof로 크기 계산
    int actualSize = sizeof(arr) / sizeof(arr[0]);

    // 4. 크기 변수 사용 (하드코딩 금지)
    for (int i = 0; i < SIZE; i++) {  // 5 대신 SIZE 사용
        arr[i] = i * 10;
    }

    // 5. 범위 기반 for문 사용 (C++11)
    for (int value : arr) {
        cout << value << " ";
    }
    cout << endl;

    return 0;
}
```

## 6. 실습 과제

### 과제 1: 배열 역순 출력
배열을 입력받아 역순으로 출력하세요.
```
입력: 1 2 3 4 5
출력: 5 4 3 2 1
```

### 과제 2: 홀수만 출력
배열에서 홀수만 찾아 출력하세요.
```
입력: 1 2 3 4 5 6 7 8 9 10
출력: 1 3 5 7 9
```

### 과제 3: 평균 이상 점수
점수 배열에서 평균 이상인 점수만 출력하세요.
```
점수: 85 90 78 92 88
평균: 86.6
평균 이상: 90 92 88
```

### 과제 4: 배열 복사
배열 A의 내용을 배열 B로 복사하는 프로그램을 작성하세요.

### 과제 5: 최빈값 찾기
1~10 사이의 숫자가 들어있는 배열에서 가장 많이 나타나는 숫자를 찾으세요.

## 핵심 정리

### 배열 핵심 개념 요약표

| 개념 | 설명 | 예시 |
|------|------|------|
| 배열 선언 | 타입 이름[크기] | `int arr[5];` |
| 인덱스 범위 | 0 ~ (크기-1) | arr[0] ~ arr[4] |
| 배열 크기 계산 | sizeof(배열)/sizeof(요소) | `sizeof(arr)/sizeof(arr[0])` |
| 메모리 | 연속된 공간 할당 | 4바이트 × 5 = 20바이트 |
| 초기화 | {값1, 값2, ...} | `int arr[3] = {1,2,3};` |
| 범위 기반 for | for (타입 변수 : 배열) | `for (int x : arr)` |

### 배열 사용 체크리스트

```
✅ 배열 사용 전 체크리스트:
□ const로 크기를 정의했는가?
□ 배열을 초기화했는가?
□ 인덱스가 0부터 시작함을 기억했는가?
□ 반복문 조건이 i < SIZE 인가? (i <= SIZE 아님!)
□ sizeof로 크기를 계산했는가?
□ 범위 초과 접근이 없는가?
```

### 자주 하는 실수

```cpp
// ❌ 잘못된 예
int arr[5];           // 초기화 안함
for (int i = 0; i <= 5; i++)  // 범위 초과 (i=5일 때)
arr[5] = 10;          // 유효하지 않은 인덱스

// ✅ 올바른 예
int arr[5] = {};      // 0으로 초기화
for (int i = 0; i < 5; i++)   // 올바른 범위
arr[4] = 10;          // 마지막 유효 인덱스
```

### 다음 시간 예고
- 2차원 배열
- 행렬 표현
- 중첩 반복문으로 2차원 배열 다루기
